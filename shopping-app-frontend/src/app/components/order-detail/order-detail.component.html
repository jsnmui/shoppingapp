<div class="container mt-4" *ngIf="order">
  <h2>Order #{{ order.orderId }}</h2>
  <p><strong>Date:</strong> {{ order.datePlaced | date:'medium' }}</p>
  <p><strong>Status:</strong> {{ order.orderStatus }}</p>
   <p><strong>Buyer Id:</strong> {{ order.items[0].userId }}</p>
  
  <h4 class="mt-4">Items</h4>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Link</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of order.items">
        <td>{{ item.productName }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.purchasedPrice | currency }}</td>
        <td>
          <a [routerLink]="['/product', item.productId]"
             [queryParams]="{ orderId: order.orderId,  from: routeFrom }">View Product</a>
        </td>
      </tr>
    </tbody>
  </table>
     <button class="btn btn-danger" 
          (click)="cancelOrder()" 
          [disabled]="order.orderStatus === 'Canceled' || order.orderStatus === 'Completed'">
    Cancel Order
  </button>
    <button class="btn btn-secondary" (click)="goBack()">Back to Orders</button>
</div>
